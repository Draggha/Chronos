var Chronos=function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={exports:{},id:i,loaded:false};e[i].call(o.exports,o,o.exports,n);o.loaded=true;return o.exports}n.m=e;n.c=t;n.p="";return n(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){var i=n(9);n(7);n(8);n(2);n(3);n(4);n(5);n(6);function o(e){function t(e){return{controller:function(){},view:function(){return i(".container.main-content",[i("base/header"),i(e),i("base/footer")])}}}return i.route(e,"/",{"/":t("pages/index"),"/login":t("pages/login"),"/create-chronicle":t("pages/create-chronicle"),"/journal/:chronicle":t("pages/journal"),"/403":t("pages/403")})}var r=o(document.getElementById("js--main-content"));var s=new window.Hoodie;e.exports=r},function(e,t,n){var i=n(9);var o=i.element("pages/index",{view:function(e){return[i("h1","This is the index page")]}});e.exports=o},function(e,t,n){var i=n(9);var o=i.element("pages/403",{view:function(e){return[i("h1","Authorization required!"),i("p","You have insufficient rights to view that content. If something is amiss ask a group administrator."),i('a[href="/"]',{config:i.route},"back to index")]}});e.exports=o},function(e,t,n){var i=n(9);var o=n(10);var r=n(11);var s=function(){var e={};e.init=function(){e.user=new r};e.saveUser=function(){o.account.signUp(e.user.name(),e.user.password()).done(function(){console.log('[Signup] New user "',e.user.name(),'" created!')}).fail(function(e){console.log("[Signup] Error! ",e)})};e.login=function(){o.account.signIn(e.user.name(),e.user.password()).done(function(e){console.log("[SignIn] Successfully logged in as "+e+"!")}).fail(function(e){console.log("[SignIn] Something broke...",e)})};e.logout=function(){o.account.signOut().done(function(){console.log("[SignOut] Success!")}).fail(function(){console.log("[SignOut] Something broke...")})};return e}();var a=i.element("pages/login",{controller:function(){s.init()},view:function(e){return[i("h1","Login or sign up"),i(".row",[i(".col-md-6",[i(".form-group",[i("label",{"for":"user-name"},"Name"),i("input",{id:"user-name",type:"text","class":"form-control",onchange:i.withAttr("value",s.user.name),value:s.user.name()})])]),i(".col-md-6",[i(".form-group",[i("label",{"for":"user-password"},"Password"),i("input",{id:"user-password",type:"password","class":"form-control",onchange:i.withAttr("value",s.user.password),value:s.user.password()})])])]),i(".row",[i(".col-md-6.col-md-offset-5",[i("button",{type:"button","class":"btn btn-success btn-lg",onclick:function(){s.saveUser()}},"Signup"),i("button",{type:"button","class":"btn btn-success btn-lg",onclick:function(){s.login()}},"Login"),i("button",{type:"button","class":"btn btn-success btn-lg",onclick:function(){s.logout()}},"Logout")])])]}});e.exports=a},function(e,t,n){var i=n(9);n(12);var o=i.element("pages/journal",{controller:function(){this.chronicle=i.route.param("chronicle")},view:function(e){if(!window.Chronos||!window.Chronos.chronicle){i.route("/403")}return[i("h1",'Welcome to the chronicle "'+e.chronicle+'"'),i(".row",[i(".col-md-12",[i("journal/editor")])])]}});e.exports=o},function(e,t,n){var i=n(9);var o=n(10);var r=n(13);n(14);var s=o.store("chronicle");var a=function(){var e={};e.init=function(){e.chronicle=new r};e.saveChronicle=function(){if(!e.chronicle.name()&&!e.chronicle.system()){console.log("[SaveChronicle] Not sufficient data given!");return false}console.log(e.chronicle.toPojo());if(!e.chronicle.id()){s.add(e.chronicle.toPojo()).done(function(t){e.chronicle.id(t.id);window.Chronos=window.Chronos||{};window.Chronos.chronicle=e.chronicle;e.chronicle=new r}).fail(function(e){console.log("[SaveChronicle] ",e)})}};return e}();var l=i.element("modal-overwrite-chonicle",{controller:function(){this.trigger=i.prop(false);this.save=function(){setTimeout(function(){window.alert("saved")},100)}},view:function(e,t){return[i('button.btn.btn-primary.btn-lg[type="button"]',{onclick:e.trigger.bind(e,true)},"Launch demo modal"),i("modal",{state:{trigger:e.trigger}},function(){return{title:"A Modal Title",body:["Another fine example...",i("p"," of a work in progress")],cancel:"Cancel",ok:i(".save",{onclick:e.save.bind(e)},"Save Changes")}})]}});var c=i.element("pages/create-chronicle",{vm:a,controller:function(){a.init()},view:function(e){return[i("h1","Create a chronicle"),i(".row",[i(".col-md-6",[i(".form-group",[i("label",{"for":"chronicle-name"},"Name"),i("input[type=text]",{id:"chronicle-name","class":"form-control",onchange:i.withAttr("value",a.chronicle.name),value:a.chronicle.name()})])]),i(".col-md-6",[i(".form-group",[i("label",{"for":"chronicle-system"},"System"),i("input[type=text]",{id:"chronicle-system","class":"form-control",onchange:i.withAttr("value",a.chronicle.system),value:a.chronicle.system()})])])]),i(".row",[i(".col-md-12",[i(".form-group",[i("label",{"for":"chronicle-description"},"Description"),i("textarea",{id:"chronicle-description",rows:5,"class":"form-control",onchange:i.withAttr("value",a.chronicle.description),value:a.chronicle.description()})])]),i("div",{"class":"col-md-6 col-md-offset-5"},[i("button",{type:"button","class":"btn btn-success btn-lg",onclick:function(){a.saveChronicle()}},"Save"),i("button",{type:"button","class":"btn btn-success btn-lg",onclick:function(){s.findAll().done(function(e){console.log(e.length+" chronicles found.");e.map(function(e,t){console.log("______ Chronicle #",t," ______");console.log("ID: ",e.id);console.log("Name: ",e.name);console.log("System: ",e.system);console.log("Description: ",e.description)})})}},"Find all")])]),i(l.instance())]}});e.exports=c},function(e,t,n){var i=n(9);n(15);var o=i.element("base/header",{view:function(e){return i("nav",{"class":"navbar navbar-inverse"},[i(".container-fluid",[i(".navbar-header",[i('a[href="/"]',{"class":"navbar-brand",config:i.route},"Chronos")]),i("ul",{"class":"nav navbar-nav"},[i("li",{"class":"dropdown"},[i('a[href="/create-chronicle"]',{config:i.route,"class":"dropdown-toggle",role:"button",ariaExpanded:"false"},["Chronicle",i("span.caret")]),i("ul",{"class":"dropdown-menu",role:"menu"},[i("li",[i('a[href="/create-chronicle"]',{config:i.route},["Create"])])])])]),i('a[href="/login"]',{config:i.route},"Login or sign up"),i('a[href="/journal/test"]',{config:i.route},"Journal"),i('a[href="/journal/'+(window.Chronos&&window.Chronos.chronicle?window.Chronos.chronicle.name():"_____undefined_____")+'"]',{config:i.route},"Journal"),i("login/login")])])}});e.exports=o},function(e,t,n){var i=n(9);var o=i.element("base/footer",{view:function(e){return i("footer",[i("p",["Brought to you by ",i('a[href="https://github.com/Draggha"]',"this guy")])])}});e.exports=o},function(e,t,n){var i;(function(e){"use strict";var o=function r(e,t){var i="[object Object]",o="[object Array]",r="[object String]",s="[object Function]";var a={}.toString;t=t||n(18);var l=t.redraw;var c=l.strategy;function d(e,t,n){var i="class"in e?"class":"className";var o=e[i]||"";Object.keys(t).forEach(function(i){if(i.indexOf("class")>=0){o+=" "+t[i]}else if((n||" ").indexOf(i)<0){e[i]=t[i]}});if(o&&o.trim()){e[i]=o.trim()}return e}t.redraw=function(e){if(c()==="all"){h={}}f=0;return l(e)};t.redraw.strategy=c;var u={},h={},f=0;var p=function(e,n,i){var r=e.tag||e;var s=[r].concat([].slice.call(arguments,1));var l=t.apply(null,s);var c=u[l.tag];if(c&&r[0]!=="$"){n=d(e.attrs||{},l.attrs);var p=n.state;var m=e.id||(p&&p.id!==undefined?p.id:n.key!==undefined?n.key:n.id!==undefined?n.id:undefined);m=l.tag+(m===undefined?f++:m);var v=e.id&&e||h[m]||new c.controller(p);h[m]=v;var g=l.children.length==1?l.children[0]:l.children;var b=c.view(v,g);if(b){l=b;if(a.call(l)!==o){d(l.attrs,n,"state")}}}else if(e.attrs){d(l.attrs,e.attrs)}if(l.tag&&l.tag[0]==="$"){l.tag=l.tag.substr(1)}return l};function m(e){this.state=e}var v=0;p.element=function(e,t){if(a.call(e)!==r)throw new Error("selector m.element(selector, module) should be a string");t.controller=t.controller||m;t.instance=function(n){var i=new t.controller(n);i.tag=e;i.id="$ctrl_"+e+v++;return i};return u[e]=t};return d(p,t)}(typeof window!="undefined"?window:{},o);if(typeof e!="undefined"&&e!==null&&e.exports)e.exports=o;else if(true)!(i=function(){return o}.call(t,n,t,e),i!==undefined&&(e.exports=i))}).call(t,n(17)(e))},function(e,t,n){var i=new window.Hoodie;e.exports=i},function(e,t,n){var i=n(9);function o(){this.name=i.prop("");this.password=i.prop("")}e.exports=o},function(e,t,n){var i=n(9);function o(e){var t=n(16).nicEditor;console.log(t);console.log(e);var i=new t({fullPanel:true}).panelInstance("js--journal-editor",{hasPanel:true})}var r=i.element("journal/editor",{view:function(e){return i("textarea.journal.shadow",{id:"js--journal-editor",config:o})}});e.exports=r},function(e,t,n){var i=n(9);function o(){this.id=i.prop();this.name=i.prop("");this.system=i.prop("");this.description=i.prop("");this.gamemaster=i.prop("")}o.prototype.toPojo=function(){var e=this;return{name:e.name(),system:e.system(),description:e.description(),gamemaster:e.gamemaster()}};e.exports=o},function(e,t,n){var i=n(9);var o=i.element("modal",{controller:function(e){var t,n,o="";function r(n){t=false;e.trigger(false);document.body.className=o;if(n)i.redraw()}this.close={onclick:function(){r()}};this.state=e.trigger;this.bind=function(i){if(!t&&e.trigger()){t=i;o=document.body.className;document.body.className+=" modal-open";n=i.getElementsByClassName("modal-backdrop")[0];n.setAttribute("style","height:"+document.documentElement.clientHeight+"px");n.addEventListener("click",r)}}},view:function(e,t){t=t();var n=e.state();return i(n?".is-open":".modal.fade",{config:e.bind},[n?i(".modal-backdrop.fade.in"):"",i(".modal-dialog",[i(".modal-content",[i(".modal-header",[i('button.close[type="button" data-dismiss="modal" aria-label="Close"]',i("span[aria-hidden=true]",e.close,i.trust("&times;"))),i("h4.modal-title",t.title)]),i(".modal-body",t.body),i(".modal-footer",[i('button.btn.btn-default[type="button" data-dismiss="modal"]',e.close,t.cancel||"Close"),t.ok?i('button.btn.btn-primary[type="button"]',e.close,t.ok):""])])])])}});e.exports=o},function(e,t,n){var i=n(9);function o(){"use strict";var e=window.jQuery;Hoodie.extend(function(t){function n(e){this.hoodie=e;this.hoodifyAccountBar()}n.prototype={hoodifyAccountBar:function(){this.subscribeToHoodieEvents();this.hoodie.account.authenticate().then(this.handleUserAuthenticated.bind(this),this.handleUserUnauthenticated.bind(this))},subscribeToHoodieEvents:function(){this.hoodie.account.on("signup changeusername signin reauthenticated",this.handleUserAuthenticated.bind(this));this.hoodie.account.on("signout",this.handleUserUnauthenticated.bind(this));this.hoodie.on("account:error:unauthenticated remote:error:unauthenticated",this.handleUserAuthenticationError.bind(this))},handleUserAuthenticated:function(t){e("html").attr("data-hoodie-account-status","signedin");e(".hoodie-accountbar").find(".hoodie-username").text(t)},handleUserUnauthenticated:function(){if(this.hoodie.account.username){return this.handleUserAuthenticationError()}e("html").attr("data-hoodie-account-status","signedout")},handleUserAuthenticationError:function(){e(".hoodie-accountbar").find(".hoodie-username").text(this.hoodie.account.username);e("html").attr("data-hoodie-account-status","error")}};new n(t)});e(function(){e("body").on("click.hoodie.data-api","[data-hoodie-action]",function(n){var i=e(n.target),o=i.data("hoodie-action"),r;switch(o){case"signup":r=e.modalForm({fields:["username","password","password_confirmation"],submit:"Sign Up"});break;case"signin":r=e.modalForm({fields:["username","password"],submit:"Sign in"});break;case"resetpassword":r=e.modalForm({fields:["username"],submit:"Reset Password"});break;case"changepassword":r=e.modalForm({fields:["current_password","new_password"],submit:"Change Password"});break;case"changeusername":r=e.modalForm({fields:["current_password","new_username"],submit:"Change Username"});break;case"signout":window.hoodie.account.signOut();break;case"destroy":if(window.confirm("you sure?")){window.hoodie.account.destroy()}break}if(r){r.on("submit",t(o))}});var t=function(t){return function(n,i){var o=e(n.target);var r;switch(t){case"signin":r=window.hoodie.account.signIn(i.username,i.password);break;case"signup":r=window.hoodie.account.signUp(i.username,i.password);break;case"changepassword":r=window.hoodie.account.changePassword(null,i.new_password);break;case"changeusername":r=window.hoodie.account.changeUsername(i.current_password,i.new_username);break;case"resetpassword":r=window.hoodie.account.resetPassword(i.email).done(function(){window.alert("send new password to "+i.email)});break}r.done(function(){o.find(".alert").remove();o.modal("hide")});r.fail(function(e){o.find(".alert").remove();o.trigger("error",e)})}}})}var r=i.element("login/login",{view:function(e){return i(".hoodie-accountbar",{config:o},[i(".hoodie-account-signedout",[i(".btn-group",[i("button.btn.btn-small.btn-primary",{dataHoodieAction:"signup"},"Sign Up"),i("button.btn.btn-small.dropdown-toggle.btn-primary",{dataToggle:"dropdown"},[i("span.caret")]),i("ul.dropdown-menu.pull-right",[i("li",[i('a[href="#"]',{dataHoodieAction:"signin"},"Sign In")]),i("li",[i('a[href="#"]',{dataHoodieAction:"resetpassword"},"Reset Password")]),i("li",[i('a[href="#"]',{dataHoodieAction:"destroy"},"Clear local data")])])])]),i(".hoodie-account-signedin",["Hello, ",i("span.hoodie-username"),i(".btn-group",[i("button.btn.btn-small.btn-primary",{dataHoodieAction:"signout"},"Sign Out"),i("button.btn.btn-small.dropdown-toggle.btn-primary",{dataToggle:"dropdown"},[i("span.caret")]),i("ul.dropdown-menu.pull-right",[i("li",[i('a[href="#"]',{dataHoodieAction:"changepassword"},"Change Password")]),i("li",[i('a[href="#"]',{dataHoodieAction:"changeusername"},"Change Username")]),i("li",[i('a[href="#"]',{dataHoodieAction:"destroy"},"Destroy Account")])])])]),i(".hoodie-account-error",["Hello, ",i("span.hoodie-username"),i(".btn-group",[i("button.btn.btn-small.btn-danger",{dataHoodieAction:"signin"},"Authentication error: Sign in again"),i("button.btn.btn-small.dropdown-toggle.btn-danger",{dataToggle:"dropdown"},[i("span.caret")]),i("ul.dropdown-menu.pull-right",[i("li",[i('a[href="#"]',{dataHoodieAction:"signout"},"Sign out")])])])])])}});e.exports=r},function(module,exports,__webpack_require__){var bkExtend=function(){var e=arguments;if(e.length==1){e=[this,e[0]]}for(var t in e[1]){e[0][t]=e[1][t]}return e[0]};function bkClass(){}bkClass.prototype.construct=function(){};bkClass.extend=function(e){var t=function(){if(arguments[0]!==bkClass){return this.construct.apply(this,arguments)}};var n=new this(bkClass);bkExtend(n,e);t.prototype=n;t.extend=this.extend;return t};var bkElement=bkClass.extend({construct:function(e,t){if(typeof e=="string"){e=(t||document).createElement(e)}e=$BK(e);return e},appendTo:function(e){e.appendChild(this);return this},appendBefore:function(e){e.parentNode.insertBefore(this,e);return this},addEvent:function(e,t){bkLib.addEvent(this,e,t);return this},setContent:function(e){this.innerHTML=e;return this},pos:function(){var e=curtop=0;var t=obj=this;if(obj.offsetParent){do{e+=obj.offsetLeft;curtop+=obj.offsetTop}while(obj=obj.offsetParent)}var n=!window.opera?parseInt(this.getStyle("border-width")||this.style.border)||0:0;return[e+n,curtop+n+this.offsetHeight]},noSelect:function(){bkLib.noSelect(this);return this},parentTag:function(e){var t=this;do{if(t&&t.nodeName&&t.nodeName.toUpperCase()==e){return t}t=t.parentNode}while(t);return false},hasClass:function(e){return this.className.match(new RegExp("(\\s|^)nicEdit-"+e+"(\\s|$)"))},addClass:function(e){if(!this.hasClass(e)){this.className+=" nicEdit-"+e}return this},removeClass:function(e){if(this.hasClass(e)){this.className=this.className.replace(new RegExp("(\\s|^)nicEdit-"+e+"(\\s|$)")," ")}return this},setStyle:function(e){var t=this.style;for(var n in e){switch(n){case"float":t.cssFloat=t.styleFloat=e[n];break;case"opacity":t.opacity=e[n];t.filter="alpha(opacity="+Math.round(e[n]*100)+")";break;case"className":this.className=e[n];break;default:t[n]=e[n]}}return this},getStyle:function(e,t){var n=!t?document.defaultView:t;if(this.nodeType==1){return n&&n.getComputedStyle?n.getComputedStyle(this,null).getPropertyValue(e):this.currentStyle[bkLib.camelize(e)]}},remove:function(){this.parentNode.removeChild(this);return this},setAttributes:function(e){for(var t in e){this[t]=e[t]}return this}});var bkLib={isMSIE:navigator.appVersion.indexOf("MSIE")!=-1,addEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,false):e.attachEvent("on"+t,n)},toArray:function(e){var t=e.length,n=new Array(t);while(t--){n[t]=e[t]}return n},noSelect:function(e){if(e.setAttribute&&e.nodeName.toLowerCase()!="input"&&e.nodeName.toLowerCase()!="textarea"){e.setAttribute("unselectable","on")}for(var t=0;t<e.childNodes.length;t++){bkLib.noSelect(e.childNodes[t])}},camelize:function(e){return e.replace(/\-(.)/g,function(e,t){return t.toUpperCase()})},inArray:function(e,t){return bkLib.search(e,t)!=null},search:function(e,t){for(var n=0;n<e.length;n++){if(e[n]==t){return n}}return null},cancelEvent:function(e){e=e||window.event;if(e.preventDefault&&e.stopPropagation){e.preventDefault();e.stopPropagation()}return false},domLoad:[],domLoaded:function(){if(arguments.callee.done){return}arguments.callee.done=true;for(i=0;i<bkLib.domLoad.length;i++){bkLib.domLoad[i]()}},onDomLoaded:function(e){this.domLoad.push(e);if(document.addEventListener){document.addEventListener("DOMContentLoaded",bkLib.domLoaded,null)}else{if(bkLib.isMSIE){document.write("<style>.nicEdit-main p { margin: 0; }</style><script id=__ie_onload defer "+(location.protocol=="https:"?"src='javascript:void(0)'":"src=//0")+"></script>");$BK("__ie_onload").onreadystatechange=function(){if(this.readyState=="complete"){bkLib.domLoaded()}}}}window.onload=bkLib.domLoaded}};function $BK(e){if(typeof e=="string"){e=document.getElementById(e)}return e&&!e.appendTo?bkExtend(e,bkElement.prototype):e}var bkEvent={addEvent:function(e,t){if(t){this.eventList=this.eventList||{};this.eventList[e]=this.eventList[e]||[];this.eventList[e].push(t)}return this},fireEvent:function(){var e=bkLib.toArray(arguments),t=e.shift();if(this.eventList&&this.eventList[t]){for(var n=0;n<this.eventList[t].length;n++){this.eventList[t][n].apply(this,e)}}}};function __(e){return e}Function.prototype.closure=function(){var e=this,t=bkLib.toArray(arguments),n=t.shift();return function(){if(typeof bkLib!="undefined"){return e.apply(n,t.concat(bkLib.toArray(arguments)))}}};Function.prototype.closureListener=function(){var e=this,t=bkLib.toArray(arguments),n=t.shift();return function(i){i=i||window.event;if(i.target){var o=i.target}else{var o=i.srcElement}return e.apply(n,[i,o].concat(t))}};var nicEditorConfig=bkClass.extend({buttons:{bold:{name:__("Click to Bold"),command:"Bold",tags:["B","STRONG"],css:{"font-weight":"bold"},key:"b"},italic:{name:__("Click to Italic"),command:"Italic",tags:["EM","I"],css:{"font-style":"italic"},key:"i"},underline:{name:__("Click to Underline"),command:"Underline",tags:["U"],css:{"text-decoration":"underline"},key:"u"},left:{name:__("Left Align"),command:"justifyleft",noActive:true},center:{name:__("Center Align"),command:"justifycenter",noActive:true},right:{name:__("Right Align"),command:"justifyright",noActive:true},justify:{name:__("Justify Align"),command:"justifyfull",noActive:true},ol:{name:__("Insert Ordered List"),command:"insertorderedlist",tags:["OL"]},ul:{name:__("Insert Unordered List"),command:"insertunorderedlist",tags:["UL"]},subscript:{name:__("Click to Subscript"),command:"subscript",tags:["SUB"]},superscript:{name:__("Click to Superscript"),command:"superscript",tags:["SUP"]},strikethrough:{name:__("Click to Strike Through"),command:"strikeThrough",css:{"text-decoration":"line-through"}},removeformat:{name:__("Remove Formatting"),command:"removeformat",noActive:true},indent:{name:__("Indent Text"),command:"indent",noActive:true},outdent:{name:__("Remove Indent"),command:"outdent",noActive:true},hr:{name:__("Horizontal Rule"),command:"insertHorizontalRule",noActive:true}},iconsPath:"/assets/img/nicEditorIcons.gif",buttonList:["save","bold","italic","underline","left","center","right","justify","ol","ul","fontSize","fontFamily","fontFormat","indent","outdent","image","upload","link","unlink","forecolor","bgcolor"],iconList:{bgcolor:1,forecolor:2,bold:3,center:4,hr:5,indent:6,italic:7,justify:8,left:9,ol:10,outdent:11,removeformat:12,right:13,save:24,strikethrough:15,subscript:16,superscript:17,ul:18,underline:19,image:20,link:21,unlink:22,close:23,arrow:25}});var nicEditors={nicPlugins:[],editors:[],registerPlugin:function(e,t){this.nicPlugins.push({p:e,o:t})},allTextAreas:function(e){var t=document.getElementsByTagName("textarea");for(var n=0;n<t.length;n++){nicEditors.editors.push(new nicEditor(e).panelInstance(t[n]))}return nicEditors.editors},findEditor:function(e){var t=nicEditors.editors;for(var n=0;n<t.length;n++){if(t[n].instanceById(e)){return t[n].instanceById(e)}}}};var nicEditor=bkClass.extend({construct:function(e){this.options=new nicEditorConfig;bkExtend(this.options,e);this.nicInstances=new Array;this.loadedPlugins=new Array;var t=nicEditors.nicPlugins;for(var n=0;n<t.length;n++){this.loadedPlugins.push(new t[n].p(this,t[n].o))}nicEditors.editors.push(this);bkLib.addEvent(document.body,"mousedown",this.selectCheck.closureListener(this))},panelInstance:function(e,t){e=this.checkReplace($BK(e));var n=new bkElement("DIV").setStyle({width:(parseInt(e.getStyle("width"))||e.clientWidth)+"px"}).appendBefore(e);this.setPanel(n);return this.addInstance(e,t)},checkReplace:function(e){var t=nicEditors.findEditor(e);if(t){t.removeInstance(e);t.removePanel()}return e},addInstance:function(e,t){e=this.checkReplace($BK(e));if(e.contentEditable||!!window.opera){var n=new nicEditorInstance(e,t,this)}else{var n=new nicEditorIFrameInstance(e,t,this)}this.nicInstances.push(n);return this},removeInstance:function(e){e=$BK(e);var t=this.nicInstances;for(var n=0;n<t.length;n++){if(t[n].e==e){t[n].remove();this.nicInstances.splice(n,1)}}},removePanel:function(e){if(this.nicPanel){this.nicPanel.remove();this.nicPanel=null}},instanceById:function(e){e=$BK(e);var t=this.nicInstances;for(var n=0;n<t.length;n++){if(t[n].e==e){return t[n]}}},setPanel:function(e){this.nicPanel=new nicEditorPanel($BK(e),this.options,this);this.fireEvent("panel",this.nicPanel);return this},nicCommand:function(e,t){if(this.selectedInstance){this.selectedInstance.nicCommand(e,t)}},getIcon:function(e,t){var n=this.options.iconList[e];var i=t.iconFiles?t.iconFiles[e]:"";return{backgroundImage:"url('"+(n?this.options.iconsPath:i)+"')",backgroundPosition:(n?(n-1)*-18:0)+"px 0px"}},selectCheck:function(e,t){var n=false;do{if(t.className&&t.className.indexOf("nicEdit")!=-1){return false}}while(t=t.parentNode);this.fireEvent("blur",this.selectedInstance,t);this.lastSelectedInstance=this.selectedInstance;this.selectedInstance=null;return false}});nicEditor=nicEditor.extend(bkEvent);var nicEditorInstance=bkClass.extend({isSelected:false,construct:function(e,t,n){this.ne=n;this.elm=this.e=e;this.options=t||{};newX=parseInt(e.getStyle("width"))||e.clientWidth;newY=parseInt(e.getStyle("height"))||e.clientHeight;this.initialHeight=newY-8;var i=e.nodeName.toLowerCase()=="textarea";if(i||this.options.hasPanel){var o=bkLib.isMSIE&&!(typeof document.body.style.maxHeight!="undefined"&&document.compatMode=="CSS1Compat");var r={width:newX+"px",border:"1px solid #ccc",borderTop:0,overflowY:"auto",overflowX:"hidden"};r[o?"height":"maxHeight"]=this.ne.options.maxHeight?this.ne.options.maxHeight+"px":null;this.editorContain=new bkElement("DIV").setStyle(r).appendBefore(e);var s=new bkElement("DIV").setStyle({width:newX-8+"px",margin:"4px",minHeight:newY+"px"}).addClass("main").appendTo(this.editorContain);e.setStyle({display:"none"});s.innerHTML=e.innerHTML;if(i){s.setContent(e.value);this.copyElm=e;var a=e.parentTag("FORM");if(a){bkLib.addEvent(a,"submit",this.saveContent.closure(this))}}s.setStyle(o?{height:newY+"px"}:{overflow:"hidden"});this.elm=s}this.ne.addEvent("blur",this.blur.closure(this));this.init();this.blur()},init:function(){this.elm.setAttribute("contentEditable","true");if(this.getContent()==""){this.setContent("<br />")}this.instanceDoc=document.defaultView;this.elm.addEvent("mousedown",this.selected.closureListener(this)).addEvent("keypress",this.keyDown.closureListener(this)).addEvent("focus",this.selected.closure(this)).addEvent("blur",this.blur.closure(this)).addEvent("keyup",this.selected.closure(this));this.ne.fireEvent("add",this)},remove:function(){this.saveContent();if(this.copyElm||this.options.hasPanel){this.editorContain.remove();this.e.setStyle({display:"block"});this.ne.removePanel()}this.disable();this.ne.fireEvent("remove",this)},disable:function(){this.elm.setAttribute("contentEditable","false")},getSel:function(){return window.getSelection?window.getSelection():document.selection},getRng:function(){var e=this.getSel();if(!e||e.rangeCount===0){return}return e.rangeCount>0?e.getRangeAt(0):e.createRange()},selRng:function(e,t){if(window.getSelection){t.removeAllRanges();t.addRange(e)}else{e.select()}},selElm:function(){var e=this.getRng();if(!e){return}if(e.startContainer){var t=e.startContainer;if(e.cloneContents().childNodes.length==1){for(var n=0;n<t.childNodes.length;n++){var i=t.childNodes[n].ownerDocument.createRange();i.selectNode(t.childNodes[n]);if(e.compareBoundaryPoints(Range.START_TO_START,i)!=1&&e.compareBoundaryPoints(Range.END_TO_END,i)!=-1){return $BK(t.childNodes[n])}}}return $BK(t)}else{return $BK(this.getSel().type=="Control"?e.item(0):e.parentElement())}},saveRng:function(){this.savedRange=this.getRng();this.savedSel=this.getSel()},restoreRng:function(){if(this.savedRange){this.selRng(this.savedRange,this.savedSel)}},keyDown:function(e,t){if(e.ctrlKey){this.ne.fireEvent("key",this,e)}},selected:function(e,t){if(!t&&!(t=this.selElm)){t=this.selElm()}if(!e.ctrlKey){var n=this.ne.selectedInstance;if(n!=this){if(n){this.ne.fireEvent("blur",n,t)}this.ne.selectedInstance=this;this.ne.fireEvent("focus",n,t)}this.ne.fireEvent("selected",n,t);this.isFocused=true;this.elm.addClass("selected")}return false},blur:function(){this.isFocused=false;this.elm.removeClass("selected")},saveContent:function(){if(this.copyElm||this.options.hasPanel){this.ne.fireEvent("save",this);this.copyElm?this.copyElm.value=this.getContent():this.e.innerHTML=this.getContent()}},getElm:function(){return this.elm},getContent:function(){this.content=this.getElm().innerHTML;this.ne.fireEvent("get",this);return this.content},setContent:function(e){this.content=e;this.ne.fireEvent("set",this);this.elm.innerHTML=this.content},nicCommand:function(e,t){document.execCommand(e,false,t)}});var nicEditorIFrameInstance=nicEditorInstance.extend({savedStyles:[],init:function(){var e=this.elm.innerHTML.replace(/^\s+|\s+$/g,"");this.elm.innerHTML="";!e?e="<br />":e;this.initialContent=e;this.elmFrame=new bkElement("iframe").setAttributes({src:"javascript:;",frameBorder:0,allowTransparency:"true",scrolling:"no"}).setStyle({height:"100px",width:"100%"}).addClass("frame").appendTo(this.elm);if(this.copyElm){this.elmFrame.setStyle({width:this.elm.offsetWidth-4+"px"})}var t=["font-size","font-family","font-weight","color"];for(itm in t){this.savedStyles[bkLib.camelize(itm)]=this.elm.getStyle(itm)}setTimeout(this.initFrame.closure(this),50)},disable:function(){this.elm.innerHTML=this.getContent()},initFrame:function(){var e=$BK(this.elmFrame.contentWindow.document);e.designMode="on";e.open();var t=this.ne.options.externalCSS;e.write("<html><head>"+(t?'<link href="'+t+'" rel="stylesheet" type="text/css" />':"")+'</head><body id="nicEditContent" style="margin: 0 !important; background-color: transparent !important;">'+this.initialContent+"</body></html>");e.close();this.frameDoc=e;this.frameWin=$BK(this.elmFrame.contentWindow);this.frameContent=$BK(this.frameWin.document.body).setStyle(this.savedStyles);this.instanceDoc=this.frameWin.document.defaultView;this.heightUpdate();this.frameDoc.addEvent("mousedown",this.selected.closureListener(this)).addEvent("keyup",this.heightUpdate.closureListener(this)).addEvent("keydown",this.keyDown.closureListener(this)).addEvent("keyup",this.selected.closure(this));this.ne.fireEvent("add",this)},getElm:function(){return this.frameContent},setContent:function(e){this.content=e;this.ne.fireEvent("set",this);this.frameContent.innerHTML=this.content;this.heightUpdate()},getSel:function(){return this.frameWin?this.frameWin.getSelection():this.frameDoc.selection},heightUpdate:function(){this.elmFrame.style.height=Math.max(this.frameContent.offsetHeight,this.initialHeight)+"px"},nicCommand:function(e,t){this.frameDoc.execCommand(e,false,t);setTimeout(this.heightUpdate.closure(this),100)}});var nicEditorPanel=bkClass.extend({construct:function(e,t,n){this.elm=e;this.options=t;this.ne=n;this.panelButtons=new Array;this.buttonList=bkExtend([],this.ne.options.buttonList);this.panelContain=new bkElement("DIV").setStyle({overflow:"hidden",width:"100%",border:"1px solid #cccccc",backgroundColor:"#efefef"}).addClass("panelContain");this.panelElm=new bkElement("DIV").setStyle({margin:"2px",marginTop:"0px",zoom:1,overflow:"hidden"}).addClass("panel").appendTo(this.panelContain);this.panelContain.appendTo(e);var i=this.ne.options;var o=i.buttons;for(button in o){this.addButton(button,i,true)}this.reorder();e.noSelect()},addButton:function(buttonName,options,noOrder){var button=options.buttons[buttonName];var type=button.type?eval("(typeof("+button.type+') == "undefined") ? null : '+button.type+";"):nicEditorButton;var hasButton=bkLib.inArray(this.buttonList,buttonName);if(type&&(hasButton||this.ne.options.fullPanel)){this.panelButtons.push(new type(this.panelElm,buttonName,options,this.ne));if(!hasButton){this.buttonList.push(buttonName)}}},findButton:function(e){for(var t=0;t<this.panelButtons.length;t++){if(this.panelButtons[t].name==e){return this.panelButtons[t]}}},reorder:function(){var e=this.buttonList;for(var t=0;t<e.length;t++){var n=this.findButton(e[t]);if(n){this.panelElm.appendChild(n.margin)}}},remove:function(){this.elm.remove()}});var nicEditorButton=bkClass.extend({construct:function(e,t,n,i){this.options=n.buttons[t];this.name=t;this.ne=i;this.elm=e;this.margin=new bkElement("DIV").setStyle({"float":"left",marginTop:"2px"}).appendTo(e);this.contain=new bkElement("DIV").setStyle({width:"20px",height:"20px"}).addClass("buttonContain").appendTo(this.margin);this.border=new bkElement("DIV").setStyle({backgroundColor:"#efefef",border:"1px solid #efefef"}).appendTo(this.contain);this.button=new bkElement("DIV").setStyle({width:"18px",height:"18px",overflow:"hidden",zoom:1,cursor:"pointer"}).addClass("button").setStyle(this.ne.getIcon(t,n)).appendTo(this.border);this.button.addEvent("mouseover",this.hoverOn.closure(this)).addEvent("mouseout",this.hoverOff.closure(this)).addEvent("mousedown",this.mouseClick.closure(this)).noSelect();if(!window.opera){this.button.onmousedown=this.button.onclick=bkLib.cancelEvent}i.addEvent("selected",this.enable.closure(this)).addEvent("blur",this.disable.closure(this)).addEvent("key",this.key.closure(this));this.disable();this.init()},init:function(){},hide:function(){this.contain.setStyle({display:"none"})},updateState:function(){if(this.isDisabled){this.setBg()}else{if(this.isHover){this.setBg("hover")}else{if(this.isActive){this.setBg("active")}else{this.setBg()}}}},setBg:function(e){switch(e){case"hover":var t={border:"1px solid #666",backgroundColor:"#ddd"};break;case"active":var t={border:"1px solid #666",backgroundColor:"#ccc"};break;default:var t={border:"1px solid #efefef",backgroundColor:"#efefef"}}this.border.setStyle(t).addClass("button-"+e)},checkNodes:function(e){var t=e;do{if(this.options.tags&&bkLib.inArray(this.options.tags,t.nodeName)){this.activate();return true}}while(t=t.parentNode&&t.className!="nicEdit");
t=$BK(e);while(t.nodeType==3){t=$BK(t.parentNode)}if(this.options.css){for(itm in this.options.css){if(t.getStyle(itm,this.ne.selectedInstance.instanceDoc)==this.options.css[itm]){this.activate();return true}}}this.deactivate();return false},activate:function(){if(!this.isDisabled){this.isActive=true;this.updateState();this.ne.fireEvent("buttonActivate",this)}},deactivate:function(){this.isActive=false;this.updateState();if(!this.isDisabled){this.ne.fireEvent("buttonDeactivate",this)}},enable:function(e,t){this.isDisabled=false;this.contain.setStyle({opacity:1}).addClass("buttonEnabled");this.updateState();this.checkNodes(t)},disable:function(e,t){this.isDisabled=true;this.contain.setStyle({opacity:.6}).removeClass("buttonEnabled");this.updateState()},toggleActive:function(){this.isActive?this.deactivate():this.activate()},hoverOn:function(){if(!this.isDisabled){this.isHover=true;this.updateState();this.ne.fireEvent("buttonOver",this)}},hoverOff:function(){this.isHover=false;this.updateState();this.ne.fireEvent("buttonOut",this)},mouseClick:function(){if(this.options.command){this.ne.nicCommand(this.options.command,this.options.commandArgs);if(!this.options.noActive){this.toggleActive()}}this.ne.fireEvent("buttonClick",this)},key:function(e,t){if(this.options.key&&t.ctrlKey&&String.fromCharCode(t.keyCode||t.charCode).toLowerCase()==this.options.key){this.mouseClick();if(t.preventDefault){t.preventDefault()}}}});var nicPlugin=bkClass.extend({construct:function(e,t){this.options=t;this.ne=e;this.ne.addEvent("panel",this.loadPanel.closure(this));this.init()},loadPanel:function(e){var t=this.options.buttons;for(var n in t){e.addButton(n,this.options)}e.reorder()},init:function(){}});var nicPaneOptions={};var nicEditorPane=bkClass.extend({construct:function(e,t,n,i){this.ne=t;this.elm=e;this.pos=e.pos();this.contain=new bkElement("div").setStyle({zIndex:"99999",overflow:"hidden",position:"absolute",left:this.pos[0]+"px",top:this.pos[1]+"px"});this.pane=new bkElement("div").setStyle({fontSize:"12px",border:"1px solid #ccc",overflow:"hidden",padding:"4px",textAlign:"left",backgroundColor:"#ffffc9"}).addClass("pane").setStyle(n).appendTo(this.contain);if(i&&!i.options.noClose){this.close=new bkElement("div").setStyle({"float":"right",height:"16px",width:"16px",cursor:"pointer"}).setStyle(this.ne.getIcon("close",nicPaneOptions)).addEvent("mousedown",i.removePane.closure(this)).appendTo(this.pane)}this.contain.noSelect().appendTo(document.body);this.position();this.init()},init:function(){},position:function(){if(this.ne.nicPanel){var e=this.ne.nicPanel.elm;var t=e.pos();var n=t[0]+parseInt(e.getStyle("width"))-(parseInt(this.pane.getStyle("width"))+8);if(n<this.pos[0]){this.contain.setStyle({left:n+"px"})}}},toggle:function(){this.isVisible=!this.isVisible;this.contain.setStyle({display:this.isVisible?"block":"none"})},remove:function(){if(this.contain){this.contain.remove();this.contain=null}},append:function(e){e.appendTo(this.pane)},setContent:function(e){this.pane.setContent(e)}});var nicEditorAdvancedButton=nicEditorButton.extend({init:function(){this.ne.addEvent("selected",this.removePane.closure(this)).addEvent("blur",this.removePane.closure(this))},mouseClick:function(){if(!this.isDisabled){if(this.pane&&this.pane.pane){this.removePane()}else{this.pane=new nicEditorPane(this.contain,this.ne,{width:this.width||"270px",backgroundColor:"#fff"},this);this.addPane();this.ne.selectedInstance.saveRng()}}},addForm:function(e,t){this.form=new bkElement("form").addEvent("submit",this.submit.closureListener(this));this.pane.append(this.form);this.inputs={};for(itm in e){var n=e[itm];var i="";if(t){i=t.getAttribute(itm)}if(!i){i=n.value||""}var o=e[itm].type;if(o=="title"){new bkElement("div").setContent(n.txt).setStyle({fontSize:"14px",fontWeight:"bold",padding:"0px",margin:"2px 0"}).appendTo(this.form)}else{var r=new bkElement("div").setStyle({overflow:"hidden",clear:"both"}).appendTo(this.form);if(n.txt){new bkElement("label").setAttributes({"for":itm}).setContent(n.txt).setStyle({margin:"2px 4px",fontSize:"13px",width:"50px",lineHeight:"20px",textAlign:"right","float":"left"}).appendTo(r)}switch(o){case"text":this.inputs[itm]=new bkElement("input").setAttributes({id:itm,value:i,type:"text"}).setStyle({margin:"2px 0",fontSize:"13px","float":"left",height:"20px",border:"1px solid #ccc",overflow:"hidden"}).setStyle(n.style).appendTo(r);break;case"select":this.inputs[itm]=new bkElement("select").setAttributes({id:itm}).setStyle({border:"1px solid #ccc","float":"left",margin:"2px 0"}).appendTo(r);for(opt in n.options){var s=new bkElement("option").setAttributes({value:opt,selected:opt==i?"selected":""}).setContent(n.options[opt]).appendTo(this.inputs[itm])}break;case"content":this.inputs[itm]=new bkElement("textarea").setAttributes({id:itm}).setStyle({border:"1px solid #ccc","float":"left"}).setStyle(n.style).appendTo(r);this.inputs[itm].value=i}}}new bkElement("input").setAttributes({type:"submit"}).setStyle({backgroundColor:"#efefef",border:"1px solid #ccc",margin:"3px 0","float":"left",clear:"both"}).appendTo(this.form);this.form.onsubmit=bkLib.cancelEvent},submit:function(){},findElm:function(e,t,n){var i=this.ne.selectedInstance.getElm().getElementsByTagName(e);for(var o=0;o<i.length;o++){if(i[o].getAttribute(t)==n){return $BK(i[o])}}},removePane:function(){if(this.pane){this.pane.remove();this.pane=null;this.ne.selectedInstance.restoreRng()}}});var nicButtonTips=bkClass.extend({construct:function(e){this.ne=e;e.addEvent("buttonOver",this.show.closure(this)).addEvent("buttonOut",this.hide.closure(this))},show:function(e){this.timer=setTimeout(this.create.closure(this,e),400)},create:function(e){this.timer=null;if(!this.pane){this.pane=new nicEditorPane(e.button,this.ne,{fontSize:"12px",marginTop:"5px"});this.pane.setContent(e.options.name)}},hide:function(e){if(this.timer){clearTimeout(this.timer)}if(this.pane){this.pane=this.pane.remove()}}});nicEditors.registerPlugin(nicButtonTips);var nicSelectOptions={buttons:{fontSize:{name:__("Select Font Size"),type:"nicEditorFontSizeSelect",command:"fontsize"},fontFamily:{name:__("Select Font Family"),type:"nicEditorFontFamilySelect",command:"fontname"},fontFormat:{name:__("Select Font Format"),type:"nicEditorFontFormatSelect",command:"formatBlock"}}};var nicEditorSelect=bkClass.extend({construct:function(e,t,n,i){this.options=n.buttons[t];this.elm=e;this.ne=i;this.name=t;this.selOptions=new Array;this.margin=new bkElement("div").setStyle({"float":"left",margin:"2px 1px 0 1px"}).appendTo(this.elm);this.contain=new bkElement("div").setStyle({width:"90px",height:"20px",cursor:"pointer",overflow:"hidden"}).addClass("selectContain").addEvent("click",this.toggle.closure(this)).appendTo(this.margin);this.items=new bkElement("div").setStyle({overflow:"hidden",zoom:1,border:"1px solid #ccc",paddingLeft:"3px",backgroundColor:"#fff"}).appendTo(this.contain);this.control=new bkElement("div").setStyle({overflow:"hidden","float":"right",height:"18px",width:"16px"}).addClass("selectControl").setStyle(this.ne.getIcon("arrow",n)).appendTo(this.items);this.txt=new bkElement("div").setStyle({overflow:"hidden","float":"left",width:"66px",height:"14px",marginTop:"1px",fontFamily:"sans-serif",textAlign:"center",fontSize:"12px"}).addClass("selectTxt").appendTo(this.items);if(!window.opera){this.contain.onmousedown=this.control.onmousedown=this.txt.onmousedown=bkLib.cancelEvent}this.margin.noSelect();this.ne.addEvent("selected",this.enable.closure(this)).addEvent("blur",this.disable.closure(this));this.disable();this.init()},disable:function(){this.isDisabled=true;this.close();this.contain.setStyle({opacity:.6})},enable:function(e){this.isDisabled=false;this.close();this.contain.setStyle({opacity:1})},setDisplay:function(e){this.txt.setContent(e)},toggle:function(){if(!this.isDisabled){this.pane?this.close():this.open()}},open:function(){this.pane=new nicEditorPane(this.items,this.ne,{width:"88px",padding:"0px",borderTop:0,borderLeft:"1px solid #ccc",borderRight:"1px solid #ccc",borderBottom:"0px",backgroundColor:"#fff"});for(var e=0;e<this.selOptions.length;e++){var t=this.selOptions[e];var n=new bkElement("div").setStyle({overflow:"hidden",borderBottom:"1px solid #ccc",width:"88px",textAlign:"left",overflow:"hidden",cursor:"pointer"});var i=new bkElement("div").setStyle({padding:"0px 4px"}).setContent(t[1]).appendTo(n).noSelect();i.addEvent("click",this.update.closure(this,t[0])).addEvent("mouseover",this.over.closure(this,i)).addEvent("mouseout",this.out.closure(this,i)).setAttributes("id",t[0]);this.pane.append(n);if(!window.opera){i.onmousedown=bkLib.cancelEvent}}},close:function(){if(this.pane){this.pane=this.pane.remove()}},over:function(e){e.setStyle({backgroundColor:"#ccc"})},out:function(e){e.setStyle({backgroundColor:"#fff"})},add:function(e,t){this.selOptions.push(new Array(e,t))},update:function(e){this.ne.nicCommand(this.options.command,e);this.close()}});var nicEditorFontSizeSelect=nicEditorSelect.extend({sel:{1:"1&nbsp;(8pt)",2:"2&nbsp;(10pt)",3:"3&nbsp;(12pt)",4:"4&nbsp;(14pt)",5:"5&nbsp;(18pt)",6:"6&nbsp;(24pt)"},init:function(){this.setDisplay("Font&nbsp;Size...");for(itm in this.sel){this.add(itm,'<font size="'+itm+'">'+this.sel[itm]+"</font>")}}});var nicEditorFontFamilySelect=nicEditorSelect.extend({sel:{arial:"Arial","comic sans ms":"Comic Sans","courier new":"Courier New",georgia:"Georgia",helvetica:"Helvetica",impact:"Impact","times new roman":"Times","trebuchet ms":"Trebuchet",verdana:"Verdana"},init:function(){this.setDisplay("Font&nbsp;Family...");for(itm in this.sel){this.add(itm,'<font face="'+itm+'">'+this.sel[itm]+"</font>")}}});var nicEditorFontFormatSelect=nicEditorSelect.extend({sel:{p:"Paragraph",pre:"Pre",h6:"Heading&nbsp;6",h5:"Heading&nbsp;5",h4:"Heading&nbsp;4",h3:"Heading&nbsp;3",h2:"Heading&nbsp;2",h1:"Heading&nbsp;1"},init:function(){this.setDisplay("Font&nbsp;Format...");for(itm in this.sel){var e=itm.toUpperCase();this.add("<"+e+">","<"+itm+' style="padding: 0px; margin: 0px;">'+this.sel[itm]+"</"+e+">")}}});nicEditors.registerPlugin(nicPlugin,nicSelectOptions);var nicLinkOptions={buttons:{link:{name:"Add Link",type:"nicLinkButton",tags:["A"]},unlink:{name:"Remove Link",command:"unlink",noActive:true}}};var nicLinkButton=nicEditorAdvancedButton.extend({addPane:function(){this.ln=this.ne.selectedInstance.selElm().parentTag("A");this.addForm({"":{type:"title",txt:"Add/Edit Link"},href:{type:"text",txt:"URL",value:"http://",style:{width:"150px"}},title:{type:"text",txt:"Title"},target:{type:"select",txt:"Open In",options:{"":"Current Window",_blank:"New Window"},style:{width:"100px"}}},this.ln)},submit:function(e){var t=this.inputs.href.value;if(t=="http://"||t==""){alert("You must enter a URL to Create a Link");return false}this.removePane();if(!this.ln){var n="javascript:nicTemp();";this.ne.nicCommand("createlink",n);this.ln=this.findElm("A","href",n)}if(this.ln){this.ln.setAttributes({href:this.inputs.href.value,title:this.inputs.title.value,target:this.inputs.target.options[this.inputs.target.selectedIndex].value})}}});nicEditors.registerPlugin(nicPlugin,nicLinkOptions);var nicColorOptions={buttons:{forecolor:{name:__("Change Text Color"),type:"nicEditorColorButton",noClose:true},bgcolor:{name:__("Change Background Color"),type:"nicEditorBgColorButton",noClose:true}}};var nicEditorColorButton=nicEditorAdvancedButton.extend({addPane:function(){var e={0:"00",1:"33",2:"66",3:"99",4:"CC",5:"FF"};var t=new bkElement("DIV").setStyle({width:"270px"});for(var n in e){for(var i in e){for(var o in e){var r="#"+e[n]+e[o]+e[i];var s=new bkElement("DIV").setStyle({cursor:"pointer",height:"15px","float":"left"}).appendTo(t);var a=new bkElement("DIV").setStyle({border:"2px solid "+r}).appendTo(s);var l=new bkElement("DIV").setStyle({backgroundColor:r,overflow:"hidden",width:"11px",height:"11px"}).addEvent("click",this.colorSelect.closure(this,r)).addEvent("mouseover",this.on.closure(this,a)).addEvent("mouseout",this.off.closure(this,a,r)).appendTo(a);if(!window.opera){s.onmousedown=l.onmousedown=bkLib.cancelEvent}}}}this.pane.append(t.noSelect())},colorSelect:function(e){this.ne.nicCommand("foreColor",e);this.removePane()},on:function(e){e.setStyle({border:"2px solid #000"})},off:function(e,t){e.setStyle({border:"2px solid "+t})}});var nicEditorBgColorButton=nicEditorColorButton.extend({colorSelect:function(e){this.ne.nicCommand("hiliteColor",e);this.removePane()}});nicEditors.registerPlugin(nicPlugin,nicColorOptions);var nicImageOptions={buttons:{image:{name:"Add Image",type:"nicImageButton",tags:["IMG"]}}};var nicImageButton=nicEditorAdvancedButton.extend({addPane:function(){this.im=this.ne.selectedInstance.selElm().parentTag("IMG");this.addForm({"":{type:"title",txt:"Add/Edit Image"},src:{type:"text",txt:"URL",value:"http://",style:{width:"150px"}},alt:{type:"text",txt:"Alt Text",style:{width:"100px"}},align:{type:"select",txt:"Align",options:{none:"Default",left:"Left",right:"Right"}}},this.im)},submit:function(e){var t=this.inputs.src.value;if(t==""||t=="http://"){alert("You must enter a Image URL to insert");return false}this.removePane();if(!this.im){var n="javascript:nicImTemp();";this.ne.nicCommand("insertImage",n);this.im=this.findElm("IMG","src",n)}if(this.im){this.im.setAttributes({src:this.inputs.src.value,alt:this.inputs.alt.value,align:this.inputs.align.value})}}});nicEditors.registerPlugin(nicPlugin,nicImageOptions);var nicSaveOptions={buttons:{save:{name:__("Save this content"),type:"nicEditorSaveButton"}}};var nicEditorSaveButton=nicEditorButton.extend({init:function(){if(!this.ne.options.onSave){this.margin.setStyle({display:"none"})}},mouseClick:function(){var e=this.ne.options.onSave;var t=this.ne.selectedInstance;e(t.getContent(),t.elm.id,t)}});nicEditors.registerPlugin(nicPlugin,nicSaveOptions)},function(e,t,n){e.exports=function(e){if(!e.webpackPolyfill){e.deprecate=function(){};e.paths=[];e.children=[];e.webpackPolyfill=1}return e}},function(e,t,n){var i;(function(e){var o=function r(e,t){var n="[object Object]",i="[object Array]",o="[object String]",s="function";var a={}.toString;var l=/(?:(^|#|\.)([^#\.\[\]]+))|(\[.+?\])/g,c=/\[(.+?)(?:=("|'|)(.*?)\2)?\]/;var d=/^(AREA|BASE|BR|COL|COMMAND|EMBED|HR|IMG|INPUT|KEYGEN|LINK|META|PARAM|SOURCE|TRACK|WBR)$/;var u,h,f,p;function m(e){u=e.document;h=e.location;p=e.cancelAnimationFrame||e.clearTimeout;f=e.requestAnimationFrame||e.setTimeout}m(e);function v(){var e=[].slice.call(arguments);var t=e[1]!=null&&a.call(e[1])===n&&!("tag"in e[1])&&!("subtree"in e[1]);var r=t?e[1]:{};var s="class"in r?"class":"className";var d={tag:"div",attrs:{}};var u,h=[];if(a.call(e[0])!=o)throw new Error("selector in m(selector, attrs, children) should be a string");while(u=l.exec(e[0])){if(u[1]===""&&u[2])d.tag=u[2];else if(u[1]==="#")d.attrs.id=u[2];else if(u[1]===".")h.push(u[2]);else if(u[3][0]==="["){var f=c.exec(u[3]);d.attrs[f[1]]=f[3]||(f[2]?"":true)}}if(h.length>0)d.attrs[s]=h.join(" ");var p=t?e[2]:e[1];if(a.call(p)===i){d.children=p}else{d.children=t?e.slice(2):e.slice(1)}for(var m in r){if(m===s)d.attrs[m]=(d.attrs[m]||"")+" "+r[m];else d.attrs[m]=r[m]}return d}function g(e,r,l,c,h,f,p,m,v,x,k){if(h==null||h.toString()==null)h="";if(h.subtree==="retain")return f;var C=a.call(f),S=a.call(h);if(f==null||C!==S){if(f!=null){if(l&&l.nodes){var A=m-c;var L=A+(S===i?h:f.nodes).length;y(l.nodes.slice(A,L),l.slice(A,L))}else if(f.nodes)y(f.nodes,f)}f=new h.constructor;if(f.tag)f={};f.nodes=[]}if(S===i){for(var T=0,I=h.length;T<I;T++){if(a.call(h[T])===i){h=h.concat.apply([],h);T--}}var B=[],_=f.length===h.length,N=0;var P=1,O=2,j=3;var D={},F=[],H=false;for(var T=0;T<f.length;T++){if(f[T]&&f[T].attrs&&f[T].attrs.key!=null){H=true;D[f[T].attrs.key]={action:P,index:T}}}if(H){if(h.indexOf(null)>-1)h=h.filter(function(e){return e!=null});var R=false;if(h.length!=f.length)R=true;else for(var T=0,U,M;U=f[T],M=h[T];T++){if(U.attrs&&M.attrs&&U.attrs.key!=M.attrs.key){R=true;break}}if(R){for(var T=0,I=h.length;T<I;T++){if(h[T]&&h[T].attrs){if(h[T].attrs.key!=null){var z=h[T].attrs.key;if(!D[z])D[z]={action:O,index:T};else D[z]={action:j,index:T,from:D[z].index,element:e.childNodes[D[z].index]||u.createElement("div")}}else F.push({index:T,element:e.childNodes[T]||u.createElement("div")})}}var $=[];for(var K in D)$.push(D[K]);var V=$.sort(b);var W=new Array(f.length);for(var T=0,q;q=V[T];T++){if(q.action===P){y(f[q.index].nodes,f[q.index]);W.splice(q.index,1)}if(q.action===O){var G=u.createElement("div");G.key=h[q.index].attrs.key;e.insertBefore(G,e.childNodes[q.index]||null);W.splice(q.index,0,{attrs:{key:h[q.index].attrs.key},nodes:[G]})}if(q.action===j){if(e.childNodes[q.index]!==q.element&&q.element!==null){e.insertBefore(q.element,e.childNodes[q.index]||null)}W[q.index]=f[q.from]}}for(var T=0,I=F.length;T<I;T++){var q=F[T];e.insertBefore(q.element,e.childNodes[q.index]||null);W[q.index]=f[q.index]}f=W;f.nodes=new Array(e.childNodes.length);for(var T=0,J;J=e.childNodes[T];T++)f.nodes[T]=J}}for(var T=0,Y=0,I=h.length;T<I;T++){var X=g(e,r,f,m,h[T],f[Y],p,m+N||N,v,x,k);if(X===t)continue;if(!X.nodes.intact)_=false;if(X.$trusted){N+=(X.match(/<[^\/]|\>\s*[^<]/g)||[]).length}else N+=a.call(X)===i?X.length:1;f[Y++]=X}if(!_){for(var T=0,I=h.length;T<I;T++){if(f[T]!=null)B.push.apply(B,f[T].nodes)}for(var T=0,Q;Q=f.nodes[T];T++){if(Q.parentNode!=null&&B.indexOf(Q)<0)y([Q],[f[T]])}if(h.length<f.length)f.length=h.length;f.nodes=B}}else if(h!=null&&S===n){if(!h.attrs)h.attrs={};if(!f.attrs)f.attrs={};var Z=Object.keys(h.attrs);var et=Z.length>("key"in h.attrs?1:0);if(h.tag!=f.tag||Z.join()!=Object.keys(f.attrs).join()||h.attrs.id!=f.attrs.id){if(f.nodes.length)y(f.nodes);if(f.configContext&&typeof f.configContext.onunload===s)f.configContext.onunload()}if(a.call(h.tag)!=o)return;var Q,tt=f.nodes.length===0;if(h.attrs.xmlns)x=h.attrs.xmlns;else if(h.tag==="svg")x="http://www.w3.org/2000/svg";else if(h.tag==="math")x="http://www.w3.org/1998/Math/MathML";if(tt){if(h.attrs.is)Q=x===t?u.createElement(h.tag,h.attrs.is):u.createElementNS(x,h.tag,h.attrs.is);else Q=x===t?u.createElement(h.tag):u.createElementNS(x,h.tag);f={tag:h.tag,attrs:et?w(Q,h.tag,h.attrs,{},x):h.attrs,children:h.children!=null&&h.children.length>0?g(Q,h.tag,t,t,h.children,f.children,true,0,h.attrs.contenteditable?Q:v,x,k):h.children,nodes:[Q]};if(f.children&&!f.children.nodes)f.children.nodes=[];if(h.tag==="select"&&h.attrs.value)w(Q,h.tag,{value:h.attrs.value},{},x);e.insertBefore(Q,e.childNodes[m]||null)}else{Q=f.nodes[0];if(et)w(Q,h.tag,h.attrs,f.attrs,x);f.children=g(Q,h.tag,t,t,h.children,f.children,false,0,h.attrs.contenteditable?Q:v,x,k);f.nodes.intact=true;if(p===true&&Q!=null)e.insertBefore(Q,e.childNodes[m]||null)}if(typeof h.attrs["config"]===s){var nt=f.configContext=f.configContext||{};var it=function(e,t){return function(){return e.attrs["config"].apply(e,t)}};k.push(it(h,[Q,!tt,nt,f]))}}else if(typeof S!=s){var B;if(f.nodes.length===0){if(h.$trusted){B=E(e,m,h)}else{B=[u.createTextNode(h)];if(!e.nodeName.match(d))e.insertBefore(B[0],e.childNodes[m]||null)}f="string number boolean".indexOf(typeof h)>-1?new h.constructor(h):h;f.nodes=B}else if(f.valueOf()!==h.valueOf()||p===true){B=f.nodes;if(!v||v!==u.activeElement){if(h.$trusted){y(B,f);B=E(e,m,h)}else{if(r==="textarea")e.value=h;else if(v)v.innerHTML=h;else{if(B[0].nodeType===1||B.length>1){y(f.nodes,f);B=[u.createTextNode(h)]}e.insertBefore(B[0],e.childNodes[m]||null);B[0].nodeValue=h}}}f=new h.constructor(h);f.nodes=B}else f.nodes.intact=true}return f}function b(e,t){return e.action-t.action||e.index-t.index}function w(e,t,i,o,r){for(var l in i){var c=i[l];var d=o[l];if(!(l in o)||d!==c){o[l]=c;try{if(l==="config"||l=="key")continue;else if(typeof c===s&&l.indexOf("on")===0){e[l]=k(c,e)}else if(l==="style"&&c!=null&&a.call(c)===n){for(var u in c){if(d==null||d[u]!==c[u])e.style[u]=c[u]}for(var u in d){if(!(u in c))e.style[u]=""}}else if(r!=null){if(l==="href")e.setAttributeNS("http://www.w3.org/1999/xlink","href",c);else if(l==="className")e.setAttribute("class",c);else e.setAttribute(l,c)}else if(l in e&&!(l==="list"||l==="style"||l==="form"||l==="type")){if(t!=="input"||e[l]!==c)e[l]=c}else e.setAttribute(l,c)}catch(h){if(h.message.indexOf("Invalid argument")<0)throw h}}else if(l==="value"&&t==="input"&&e.value!=c){e.value=c}}return o}function y(e,t){for(var n=e.length-1;n>-1;n--){if(e[n]&&e[n].parentNode){try{e[n].parentNode.removeChild(e[n])}catch(i){}t=[].concat(t);if(t[n])x(t[n])}}if(e.length!=0)e.length=0}function x(e){if(e.configContext&&typeof e.configContext.onunload===s)e.configContext.onunload();if(e.children){if(a.call(e.children)===i){for(var t=0,n;n=e.children[t];t++)x(n)}else if(e.children.tag)x(e.children)}}function E(e,t,n){var i=e.childNodes[t];if(i){var o=i.nodeType!=1;var r=u.createElement("span");if(o){e.insertBefore(r,i||null);r.insertAdjacentHTML("beforebegin",n);e.removeChild(r)}else i.insertAdjacentHTML("beforebegin",n)}else e.insertAdjacentHTML("beforeend",n);var s=[];while(e.childNodes[t]!==i){s.push(e.childNodes[t]);t++}return s}function k(e,t){return function(n){n=n||event;v.redraw.strategy("diff");v.startComputation();try{return e.call(t,n)}finally{M()}}}var C;var S={appendChild:function(e){if(C===t)C=u.createElement("html");if(u.documentElement&&u.documentElement!==e){u.replaceChild(e,u.documentElement)}else u.appendChild(e);this.childNodes=u.childNodes},insertBefore:function(e){this.appendChild(e)},childNodes:[]};var A=[],L={};v.render=function(e,n,i){var o=[];if(!e)throw new Error("Please ensure the DOM element exists before rendering a template into it.");var r=T(e);var s=e===u;var a=s||e===u.documentElement?S:e;if(s&&n.tag!="html")n={tag:"html",attrs:{},children:n};if(L[r]===t)y(a.childNodes);if(i===true)Z(e);L[r]=g(a,null,t,t,n,L[r],false,0,null,t,o);for(var l=0,c=o.length;l<c;l++)o[l]()};function T(e){var t=A.indexOf(e);return t<0?A.push(e)-1:t}v.trust=function(e){e=new String(e);e.$trusted=true;return e};function I(e){var t=function(){if(arguments.length)e=arguments[0];return e};t.toJSON=function(){return e};return t}v.prop=function(e){if((e!=null&&a.call(e)===n||typeof e===s)&&typeof e.then===s){return et(e)}return I(e)};var B=[],_=[],N=[],P=null,O=0,j=null,D=false,F;var H=16;v.module=function(e,t){if(!e)throw new Error("Please ensure the DOM element exists before rendering a template into it.");var n=B.indexOf(e);if(n<0)n=B.length;var i=false;if(N[n]&&typeof N[n].onunload===s){var o={preventDefault:function(){i=true}};N[n].onunload(o)}if(!i){v.redraw.strategy("all");v.startComputation();B[n]=e;var r=F=t;var a=new t.controller;if(r===F){N[n]=a;_[n]=t}M();return N[n]}};v.redraw=function(t){if(P&&t!==true){if(new Date-O>H||f===e.requestAnimationFrame){if(P>0)p(P);P=f(R,H)}}else{R();P=f(function(){P=null},H)}};v.redraw.strategy=v.prop();function R(){var e=v.redraw.strategy()==="all";for(var t=0,n;n=B[t];t++){if(N[t]){v.render(n,_[t].view(N[t]),e)}}if(j){j();j=null}P=null;O=new Date;v.redraw.strategy("diff")}var U=0;v.startComputation=function(){U++};v.endComputation=function(){U=Math.max(U-1,0);if(U===0)v.redraw()};var M=function(){if(v.redraw.strategy()=="none"){U--;v.redraw.strategy("diff")}else v.endComputation()};v.withAttr=function(e,t){return function(n){n=n||event;var i=n.currentTarget||this;t(e in i?i[e]:i.getAttribute(e))}};var z={pathname:"",hash:"#",search:"?"};var $=function(){},K,V;v.route=function(){if(arguments.length===0)return V;else if(arguments.length===3&&a.call(arguments[1])===o){var t=arguments[0],n=arguments[1],i=arguments[2];$=function(e){var o=V=W(e);if(!q(t,i,o)){v.route(n,true)}};var r=v.route.mode==="hash"?"onhashchange":"onpopstate";e[r]=function(){if(V!=W(h[v.route.mode])){$(h[v.route.mode])}};j=J;e[r]()}else if(arguments[0].addEventListener){var s=arguments[0];var l=arguments[1];var c=arguments[2];s.href=(v.route.mode!=="pathname"?h.pathname:"")+z[v.route.mode]+this.attrs.href;s.removeEventListener("click",G);s.addEventListener("click",G)}else if(a.call(arguments[0])===o){V=arguments[0];var d=arguments[1]||{};var f=V.indexOf("?");var p=f>-1?X(V.slice(f+1)):{};for(var m in d)p[m]=d[m];var g=Y(p);var b=f>-1?V.slice(0,f):V;if(g)V=b+(b.indexOf("?")===-1?"?":"&")+g;var w=(arguments.length===3?arguments[2]:arguments[1])===true;if(e.history.pushState){j=function(){e.history[w?"replaceState":"pushState"](null,u.title,z[v.route.mode]+V);J()};$(z[v.route.mode]+V)}else h[v.route.mode]=V}};v.route.param=function(e){if(!K)throw new Error("You must call m.route(element, defaultRoute, routes) before calling m.route.param()");return K[e]};v.route.mode="search";function W(e){return e.slice(z[v.route.mode].length)}function q(e,t,n){K={};var i=n.indexOf("?");if(i!==-1){K=X(n.substr(i+1,n.length));n=n.substr(0,i)}for(var o in t){if(o===n){v.module(e,t[o]);return true}var r=new RegExp("^"+o.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(r.test(n)){n.replace(r,function(){var n=o.match(/:[^\/]+/g)||[];var i=[].slice.call(arguments,1,-2);for(var r=0,s=n.length;r<s;r++)K[n[r].replace(/:|\./g,"")]=decodeURIComponent(i[r]);v.module(e,t[o])});return true}}}function G(e){e=e||event;if(e.ctrlKey||e.metaKey||e.which===2)return;if(e.preventDefault)e.preventDefault();else e.returnValue=false;var t=e.currentTarget||this;var n=v.route.mode==="pathname"&&t.search?X(t.search.slice(1)):{};v.route(t[v.route.mode].slice(z[v.route.mode].length),n)}function J(){if(v.route.mode!="hash"&&h.hash)h.hash=h.hash;else e.scrollTo(0,0)}function Y(e,t){var i=[];for(var o in e){var r=t?t+"["+o+"]":o,s=e[o];i.push(s!=null&&a.call(s)===n?Y(s,r):encodeURIComponent(r)+"="+encodeURIComponent(s))}return i.join("&")}function X(e){var t=e.split("&"),n={};for(var i=0,o=t.length;i<o;i++){var r=t[i].split("=");n[Q(r[0])]=r[1]?Q(r[1]):""}return n}function Q(e){return decodeURIComponent(e.replace(/\+/g," "))}function Z(e){var n=T(e);y(e.childNodes,L[n]);L[n]=t}v.deferred=function(){var e=new tt;e.promise=et(e.promise);return e};function et(e){var t=v.prop();e.then(t);t.then=function(t,n){return et(e.then(t,n))};return t}function tt(e,t){var i=1,o=2,r=3,l=4;var c=this,d=0,u=0,h=[];c["promise"]={};c["resolve"]=function(e){if(!d){u=e;d=i;m()}return this};c["reject"]=function(e){if(!d){u=e;d=o;m()}return this};c.promise["then"]=function(e,t){var n=new tt(e,t);if(d===r){n.resolve(u)}else if(d===l){n.reject(u)}else{h.push(n)}return n.promise};function f(e){d=e||l;h.map(function(e){d===r&&e.resolve(u)||e.reject(u)})}function p(e,t,i,o){if((u!=null&&a.call(u)===n||typeof u===s)&&typeof e===s){try{var r=0;e.call(u,function(e){if(r++)return;u=e;t()},function(e){if(r++)return;u=e;i()})}catch(l){v.deferred.onerror(l);u=l;i()}}else{o()}}function m(){var n;try{n=u&&u.then}catch(a){v.deferred.onerror(a);u=a;d=o;return m()}p(n,function(){d=i;m()},function(){d=o;m()},function(){try{if(d===i&&typeof e===s){u=e(u)}else if(d===o&&typeof t==="function"){u=t(u);d=i}}catch(a){v.deferred.onerror(a);u=a;return f()}if(u===c){u=TypeError();f()}else{p(n,function(){f(r)},f,function(){f(d===i&&r)})}})}}v.deferred.onerror=function(e){if(a.call(e)==="[object Error]"&&!e.constructor.toString().match(/ Error/))throw e};v.sync=function(e){var t="resolve";function n(e,n){return function(s){r[e]=s;if(!n)t="reject";if(--o===0){i.promise(r);i[t](r)}return s}}var i=v.deferred();var o=e.length;var r=new Array(o);if(e.length>0){for(var s=0;s<e.length;s++){e[s].then(n(s,true),n(s,false))}}else i.resolve([]);return i.promise};function nt(e){return e}function it(n){if(n.dataType&&n.dataType.toLowerCase()==="jsonp"){var i="mithril_callback_"+(new Date).getTime()+"_"+Math.round(Math.random()*1e16).toString(36);var r=u.createElement("script");e[i]=function(o){u.body.removeChild(r);n.onload({type:"load",target:{responseText:o}});e[i]=t};r.onerror=function(o){u.body.removeChild(r);n.onerror({type:"error",target:{status:500,responseText:JSON.stringify({error:"Error making jsonp request"})}});e[i]=t;return false};r.onload=function(e){return false};r.src=n.url+(n.url.indexOf("?")>0?"&":"?")+(n.callbackKey?n.callbackKey:"callback")+"="+i+"&"+Y(n.data||{});u.body.appendChild(r)}else{var l=new e.XMLHttpRequest;l.open(n.method,n.url,true,n.user,n.password);l.onreadystatechange=function(){if(l.readyState===4){if(l.status>=200&&l.status<300)n.onload({type:"load",target:l});else n.onerror({type:"error",target:l})}};if(n.serialize===JSON.stringify&&n.data&&n.method!=="GET"){l.setRequestHeader("Content-Type","application/json; charset=utf-8")}if(n.deserialize===JSON.parse){l.setRequestHeader("Accept","application/json, text/*")}if(typeof n.config===s){var c=n.config(l,n);if(c!=null)l=c}var d=n.method==="GET"||!n.data?"":n.data;if(d&&(a.call(d)!=o&&d.constructor!=e.FormData)){throw"Request data should be either be a string or FormData. Check the `serialize` option in `m.request`"}l.send(d);return l}}function ot(e,t,n){if(e.method==="GET"&&e.dataType!="jsonp"){var i=e.url.indexOf("?")<0?"?":"&";var o=Y(t);e.url=e.url+(o?i+o:"")}else e.data=n(t);return e}function rt(e,t){var n=e.match(/:[a-z]\w+/gi);if(n&&t){for(var i=0;i<n.length;i++){var o=n[i].slice(1);e=e.replace(n[i],t[o]);delete t[o]}}return e}v.request=function(e){if(e.background!==true)v.startComputation();var t=v.deferred();var n=e.dataType&&e.dataType.toLowerCase()==="jsonp";var o=e.serialize=n?nt:e.serialize||JSON.stringify;var r=e.deserialize=n?nt:e.deserialize||JSON.parse;var s=e.extract||function(e){return e.responseText.length===0&&r===JSON.parse?null:e.responseText};e.url=rt(e.url,e.data);e=ot(e,e.data,o);e.onload=e.onerror=function(n){try{n=n||event;var o=(n.type==="load"?e.unwrapSuccess:e.unwrapError)||nt;var l=o(r(s(n.target,e)));if(n.type==="load"){if(a.call(l)===i&&e.type){for(var c=0;c<l.length;c++)l[c]=new e.type(l[c])}else if(e.type)l=new e.type(l)}t[n.type==="load"?"resolve":"reject"](l)}catch(n){v.deferred.onerror(n);t.reject(n)}if(e.background!==true)v.endComputation()};it(e);t.promise(e.initialValue);return t.promise};v.deps=function(t){m(e=t||e);return e};v.deps.factory=r;return v}(typeof window!="undefined"?window:{});if(typeof e!="undefined"&&e!==null&&e.exports)e.exports=o;else if(true)!(i=function(){return o}.call(t,n,t,e),i!==undefined&&(e.exports=i))}).call(t,n(17)(e))}]);